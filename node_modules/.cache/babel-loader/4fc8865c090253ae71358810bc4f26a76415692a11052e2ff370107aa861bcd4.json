{"ast":null,"code":"import Modal from'react-bootstrap/Modal';import Button from'react-bootstrap/Button';import{addNewAccount,fetchAllFaculty}from'../../service/userService';import{useEffect,useState}from'react';import{toast}from'react-toastify';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddAccount=props=>{const{show,handleClose,handleAddNewAccount}=props;const[showImage,setShowImage]=useState();const[selectedFile,setSelectedFile]=useState(null);const[userData,setUserData]=useState({name:\"\",password:\"\",email:\"\",faculty:\"\",role:\"student\",image:null});console.log(userData);const[listFaculty,setListFaculty]=useState([]);const getAllFaculty=async()=>{let res=await fetchAllFaculty();if(res){setListFaculty(res.data);}};useEffect(()=>{getAllFaculty();},[]);const handleChange=e=>{const{name,value}=e.target;setUserData({...userData,[name]:value});};const handleImage=file=>{const reader=new FileReader();reader.readAsDataURL(file.target.files[0]);reader.onload=function(){setShowImage(reader.result);setUserData({...userData,image:file.target.files[0]});};};return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"New Account\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"body-add\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"form-control\",name:\"name\",value:userData.name,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",required:true,className:\"form-control\",name:\"email\",value:userData.email,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,name:\"password\",className:\"form-control\",value:userData.password,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"select\",{className:\"form-select\",required:true,value:userData.faculty,name:\"faculty\",onChange:handleChange,children:listFaculty&&listFaculty.map(faculty=>{return/*#__PURE__*/_jsx(\"option\",{value:faculty._id,children:faculty.faculty_name},faculty._id);})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:userData.role,name:\"role\",onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"student\",children:\"Student\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"marketing manage\",children:\"Marketing Manage\"}),/*#__PURE__*/_jsx(\"option\",{value:\"marketing coordinator\",children:\"Marketing Coordinator\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"form-label\",children:\"Image\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"formFile\",style:{width:\"100px\",height:\"100px\",borderRadius:\"10px\",overflow:\"hidden\",objectFit:'cover',objectPosition:\"center\"},className:\"  d-flex align-items-center justify-content-center border\",children:showImage?/*#__PURE__*/_jsx(\"img\",{src:showImage,alt:\"\"}):\"+\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control d-none\",type:\"file\",id:\"formFile\",name:\"image\",onChange:handleImage})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>{handleAddNewAccount(userData);},children:\"Save\"})]})]});};export default AddAccount;","map":{"version":3,"names":["Modal","Button","addNewAccount","fetchAllFaculty","useEffect","useState","toast","jsx","_jsx","jsxs","_jsxs","AddAccount","props","show","handleClose","handleAddNewAccount","showImage","setShowImage","selectedFile","setSelectedFile","userData","setUserData","name","password","email","faculty","role","image","console","log","listFaculty","setListFaculty","getAllFaculty","res","data","handleChange","e","value","target","handleImage","file","reader","FileReader","readAsDataURL","files","onload","result","onHide","children","Header","closeButton","Title","Body","className","type","required","onChange","map","_id","faculty_name","htmlFor","style","width","height","borderRadius","overflow","objectFit","objectPosition","src","alt","id","Footer","variant","onClick"],"sources":["C:/Users/ADMIN/OneDrive/Tài liệu/react-project/1640/src/components/ManageAccount/addAccount.js"],"sourcesContent":["import Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { addNewAccount, fetchAllFaculty } from '../../service/userService';\r\nimport { useEffect, useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst AddAccount = (props) => {\r\n    const {show, handleClose, handleAddNewAccount} = props\r\n    const [showImage,setShowImage]=useState()\r\n    const [selectedFile, setSelectedFile] = useState(null);\r\n    const [userData, setUserData] = useState({\r\n        name:\"\",\r\n        password:\"\",\r\n        email:\"\",\r\n        faculty:\"\",\r\n        role:\"student\",\r\n        image:null\r\n    })\r\n    console.log(userData);\r\n    const [listFaculty, setListFaculty] = useState([])\r\n\r\n    const getAllFaculty = async () =>{\r\n        let res = await fetchAllFaculty()\r\n        if (res) {\r\n            setListFaculty(res.data)\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        getAllFaculty()\r\n    }, [])\r\n    const handleChange=(e)=>{\r\n        const {name,value}=e.target;\r\n        setUserData({...userData,[name]:value})\r\n    }\r\n    const handleImage=(file)=>{\r\n        const reader=new FileReader()\r\n        reader.readAsDataURL(file.target.files[0])\r\n        reader.onload = function () {\r\n            setShowImage(reader.result)\r\n            setUserData({...userData,image:file.target.files[0]})\r\n            \r\n        };\r\n        \r\n    }\r\n\r\n    return(\r\n        <Modal show={show} onHide={handleClose}>\r\n            <Modal.Header closeButton>\r\n            <Modal.Title>New Account</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className=\"body-add\">\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Name</label>\r\n                        <input type=\"text\" required className=\"form-control\" name='name' value={userData.name}  onChange={handleChange}/>\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Email</label>\r\n                        <input type=\"email\" required className=\"form-control\" name='email' value={userData.email} onChange={handleChange}/>\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Password</label>\r\n                        <input type=\"text\" required name='password' className=\"form-control\" value={userData.password} onChange={handleChange}/>\r\n                    </div>\r\n                    <select className=\"form-select\" required value={userData.faculty}  name='faculty' onChange={handleChange}>\r\n                        {listFaculty&&listFaculty.map((faculty)=>{\r\n                            return  <option key={faculty._id} value={faculty._id}>{faculty.faculty_name}</option>\r\n                        })}\r\n                    </select>\r\n                    <br/>\r\n                    <select className=\"form-select\" value={userData.role} name='role' onChange={handleChange}>\r\n                        <option value={\"student\"}>Student</option>\r\n                        <option value={\"admin\"}>Admin</option>\r\n                        <option value={\"marketing manage\"}>Marketing Manage</option>\r\n                        <option value={\"marketing coordinator\"}>Marketing Coordinator</option>\r\n                    </select>\r\n                \r\n                    <div className=\"mb-3\">\r\n                        <h1  className=\"form-label\">Image</h1>\r\n                        <label htmlFor=\"formFile\" style={{width:\"100px\", height:\"100px\",borderRadius:\"10px\",overflow:\"hidden\",objectFit:'cover',objectPosition:\"center\"}} className='  d-flex align-items-center justify-content-center border'>\r\n                            {showImage?<img src={showImage} alt=''/>:\"+\"}\r\n                        </label>\r\n                        <input className=\"form-control d-none\" type=\"file\" id=\"formFile\" name='image' onChange={handleImage}/>\r\n                    </div>\r\n                </div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={handleClose}>\r\n                Close\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={()=>{\r\n                handleAddNewAccount(userData)\r\n            }}>\r\n                Save\r\n            </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default AddAccount"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}